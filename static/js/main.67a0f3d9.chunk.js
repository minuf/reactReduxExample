(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{79:function(e,t,n){e.exports=n(93)},84:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(43),o=n.n(c),i=(n(84),n(10)),u=n(12),s=n(78),l=[];var m=n(17),d=Object(m.a)(),f=n(30),E=n(74),p=n(75),g="ALERT_SUCCESS",b="ALERT_ERROR",h="ALERT_CLEAR",O="USERS_REGISTER_REQUEST",S="USERS_REGISTER_SUCCESS",v="USERS_REGISTER_FAILURE",j="USERS_LOGIN_REQUEST",y="USERS_LOGIN_SUCCESS",N="USERS_LOGIN_FAILURE",T="USERS_LOGOUT",C="USERS_GETALL_REQUEST",R="USERS_GETALL_SUCCESS",U="USERS_GETALL_FAILURE",_="USERS_DELETE_REQUEST",L="USERS_DELETE_SUCCESS",A="USERS_DELETE_FAILURE",I="CLIENTS_GETALL_REQUEST",w="CLIENTS_GETALL_SUCCESS",P="CLIENTS_GETALL_FAILURE",D="CLIENTS_UPDATE_REQUEST",k="CLIENTS_UPDATE_SUCCESS",x="CLIENTS_UPDATE_FAILURE",G="CLIENTS_CREATE_REQUEST",F="CLIENTS_CREATE_SUCCESS",J="CLIENTS_CREATE_FAILURE",Q="CLIENTS_DELETE_REQUEST",q="CLIENTS_DELETE_SUCCESS",W="CLIENTS_DELETE_FAILURE",B="PRODUCTS_GETALL_REQUEST",H="PRODUCTS_GETALL_SUCCESS",M="PRODUCTS_GETALL_FAILURE",z="PRODUCTS_UPDATE_REQUEST",Z="PRODUCTS_UPDATE_SUCCESS",$="PRODUCTS_UPDATE_FAILURE",K="PRODUCTS_CREATE_REQUEST",V="PRODUCTS_CREATE_SUCCESS",X="PRODUCTS_CREATE_FAILURE",Y="PRODUCTS_DELETE_REQUEST",ee="PRODUCTS_DELETE_SUCCESS",te="PRODUCTS_DELETE_FAILURE",ne={},re=ne?{loggedIn:!0,user:ne}:{};console.log("INIT AUTH "+ne);var ae=n(27),ce=n(4);var oe=Object(f.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loggingIn:!0,user:t.user};case y:return{loggedIn:!0,user:t.user};case N:case T:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{registering:!0};case S:case v:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case R:return{items:t.users};case U:return{error:t.error};case _:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(ce.a)(Object(ce.a)({},e),{},{deleting:!0}):e}))});case L:return{items:e.items.filter((function(e){return e.id!==t.id}))};case A:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var n=Object(ae.a)(e,["deleting"]);return Object(ce.a)(Object(ce.a)({},n),{},{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{type:"alert-success",message:t.message};case b:return{type:"alert-danger",message:t.message};case h:return{};default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case w:return{items:t.clients,lastId:t.clients[t.clients.length-1].id};case P:return{error:t.error};case G:return Object(ce.a)(Object(ce.a)({},e),{},{creating:!0});case F:return t.client.id=e.lastId+1,e.items.unshift(t.client),Object(ce.a)(Object(ce.a)({},e),{},{lastId:t.client.id,creating:!1});case J:return Object(ce.a)(Object(ce.a)({},e),{},{error:t.error,creating:!1});case D:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.client.id?Object(ce.a)(Object(ce.a)({},e),{},{updating:!0}):e}))});case k:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.client.id?Object(ce.a)(Object(ce.a)({},e),{},{name:t.client.name,updating:!1}):e}))});case x:return Object(ce.a)(Object(ce.a)({},e),{},{error:t.error});case Q:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(ce.a)(Object(ce.a)({},e),{},{deleting:!0}):e}))});case q:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.id}))});case W:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var n=Object(ae.a)(e,["deleting"]);return Object(ce.a)(Object(ce.a)({},n),{},{deleteError:t.error})}return e}))});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case H:return{items:t.products,lastId:parseInt(t.products[t.products.length-1].id)};case M:return{error:t.error};case K:return Object(ce.a)(Object(ce.a)({},e),{},{creating:!0});case V:return t.product.id=""+(e.lastId+1),e.items.unshift(t.product),Object(ce.a)(Object(ce.a)({},e),{},{lastId:e.lastId+1,creating:!1});case X:return Object(ce.a)(Object(ce.a)({},e),{},{error:t.error,creating:!1});case z:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.product.id?Object(ce.a)(Object(ce.a)({},e),{},{updating:!0}):e}))});case Z:return console.log(t),Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.product.id?Object(ce.a)(Object(ce.a)({},e),{},{title:t.product.title,updating:!1}):e}))});case $:return{error:t.error};case Y:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){return e.id===t.id?Object(ce.a)(Object(ce.a)({},e),{},{deleting:!0}):e}))});case ee:return{items:e.items.filter((function(e){return e.id!==t.id}))};case te:return Object(ce.a)(Object(ce.a)({},e),{},{items:e.items.map((function(e){if(e.id===t.id){e.deleting;var n=Object(ae.a)(e,["deleting"]);return Object(ce.a)(Object(ce.a)({},n),{},{deleteError:t.error})}return e}))});default:return e}}}),ie=Object(p.a)(),ue=Object(f.d)(oe,Object(f.a)(E.a,ie));function se(){var e={};return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var le={success:function(e){return{type:g,message:e}},error:function(e){return{type:b,message:e}},clear:function(){return{type:h}}};var me={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("http://localhost:3000/users/authenticate",n).then(fe).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:de,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("http://localhost:3000/users/register",t).then(fe)},getAll:function(){var e={method:"GET",headers:se()};return fetch("http://localhost:3000/users",e).then(fe)},getById:function(e){var t={method:"GET",headers:se()};return fetch("http://localhost:3000/users/".concat(e),t).then(fe)},update:function(e){var t={method:"PUT",headers:Object(ce.a)(Object(ce.a)({},se()),{},{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("http://localhost:3000/users/".concat(e.id),t).then(fe)},delete:function(e){var t={method:"DELETE",headers:se()};return fetch("http://localhost:3000/users/".concat(e),t).then(fe)}};function de(){localStorage.removeItem("user")}function fe(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&(de(),window.location.reload(!0));var r=n&&n.message||e.statusText;return Promise.reject(r)}return n}))}var Ee={create:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:'{"name": "'.concat(e,'"}')};return fetch("https://jsonplaceholder.typicode.com/users",t).then(pe)},getAll:function(){var e={method:"GET",headers:se()};return fetch("https://jsonplaceholder.typicode.com/users",e).then(pe)},getById:function(e){var t={method:"GET",headers:se()};return fetch("https://jsonplaceholder.typicode.com/users/".concat(e),t).then(pe)},update:function(e,t){var n={method:"PUT",headers:Object(ce.a)(Object(ce.a)({},se()),{},{"Content-Type":"application/json"}),body:'{"id": '.concat(e.id,', "name": "').concat(t,'"}')};return fetch("https://jsonplaceholder.typicode.com/users/".concat(e.id),n).then((function(n){if(500===n.status)return e.name=t,e;pe(n)}))},delete:function(e){var t={method:"DELETE",headers:se()};return fetch("https://jsonplaceholder.typicode.com/users/".concat(e),t).then(pe)}};function pe(e){return e.text().then((function(t){var n=t&&JSON.parse(t);if(console.log(n),!e.ok){401===e.status&&window.location.reload(!0);var r=n&&n.message||e.statusText;return Promise.reject(r)}return n}))}var ge=n(40),be=n(31);function he(){var e=Object(ge.a)(["\n        mutation  {\n            deletePost(id: ",")\n          }\n    "]);return he=function(){return e},e}function Oe(){var e=Object(ge.a)(["\n    mutation {\n        updatePost(id: ",', input: {title: "','"}) {\n          id\n          title\n        }\n      }\n    ']);return Oe=function(){return e},e}function Se(){var e=Object(ge.a)(['\n    mutation {\n        createPost(input: {title: "','", body: ""}) {\n          id\n          title\n          body\n        }\n      }\n    ']);return Se=function(){return e},e}function ve(){var e=Object(ge.a)(["\n    {\n        posts(options: {paginate: {limit: 10}}) {\n            data {\n              id\n              title\n            }\n            meta {\n              totalCount\n            }\n          }\n    }"]);return ve=function(){return e},e}var je={create:function(e){return ye.mutate({mutation:Object(be.gql)(Se(),e)}).then((function(e){return e.data.createPost}))},getAll:function(){return ye.query({query:Object(be.gql)(ve())}).then((function(e){return JSON.parse(JSON.stringify(e.data.posts.data))}))},update:function(e,t){return console.log("TITLEEEE: "+t),ye.mutate({mutation:Object(be.gql)(Oe(),e.id,t)}).then((function(n){return 500===n.status?(e.title=t,e):n.data.updatePost}))},delete:function(e){return ye.mutate({mutation:Object(be.gql)(he(),e)}).then((function(e){return console.log(e)}))}},ye=new be.ApolloClient({uri:"https://graphqlzero.almansi.me/api",cache:new be.InMemoryCache});var Ne={login:function(e,t,n){return function(r){r({type:j,user:{username:e}}),me.login(e,t).then((function(e){r(function(e){return{type:y,user:e}}(e)),d.push(n)}),(function(e){r(function(e){return{type:N,error:e}}(e.toString())),r(le.error(e.toString()))}))}},logout:function(){return me.logout(),{type:T}},register:function(e){return function(t){t(function(e){return{type:O,user:e}}(e)),me.register(e).then((function(e){t(function(e){return{type:S,user:e}}()),d.push("/login"),t(le.success("Registration successful"))}),(function(e){t(function(e){return{type:v,error:e}}(e.toString())),t(le.error(e.toString()))}))}},getAll:function(){return function(e){e({type:C}),me.getAll().then((function(t){return e(function(e){return{type:R,users:e}}(t))}),(function(t){return e(function(e){return{type:U,error:e}}(t.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:_,id:e}}(e)),me.delete(e).then((function(n){return t(function(e){return{type:L,id:e}}(e))}),(function(n){return t(function(e,t){return{type:A,id:e,error:t}}(e,n.toString()))}))}}};var Te={create:function(e){return function(t){t(function(e){return{type:G,clientName:e}}(e)),Ee.create(e).then((function(e){t(function(e){return{type:F,client:e}}(e)),t(le.success("Created successful"))}),(function(e){t(function(e){return{type:J,error:e}}(e.toString())),t(le.error(e.toString()))}))}},getAll:function(){return function(e){e({type:I}),Ee.getAll().then((function(t){return e(function(e){return{type:w,clients:e}}(t))}),(function(t){return e(function(e){return{type:P,error:e}}(t.toString()))}))}},update:function(e,t){return function(n){n(function(e){return{type:D,client:e}}(e)),Ee.update(e,t).then((function(e){n(function(e){return{type:k,client:e}}(e))}),(function(e){n(function(e){return{type:x,error:e}}(e.toString())),n(le.error(e.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:Q,id:e}}(e)),Ee.delete(e).then((function(n){return t(function(e){return{type:q,id:e}}(e))}),(function(n){return t(function(e,t){return{type:W,id:e,error:t}}(e,n.toString()))}))}}};var Ce={create:function(e){return function(t){t(function(e){return{type:K,productTitle:e}}(e)),je.create(e).then((function(e){t(function(e){return{type:V,product:e}}(e))}),(function(e){t(function(e){return{type:X,error:e}}(e.toString())),t(le.error(e.toString()))}))}},getAll:function(){return function(e){e({type:B}),je.getAll().then((function(t){return e(function(e){return{type:H,products:e}}(t))}),(function(t){return e(function(e){return{type:M,error:e}}(t.toString()))}))}},update:function(e,t){return function(n){n(function(e){return{type:z,product:e}}(e)),je.update(e,t).then((function(e){n(function(e){return{type:Z,product:e}}(e))}),(function(e){n(function(e){return{type:$,error:e}}(e.toString())),n(le.error(e.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:Y,id:e}}(e)),je.delete(e).then((function(n){return t(function(e){return{type:ee,id:e}}(e))}),(function(n){return t(function(e,t){return{type:te,id:e,error:t}}(e,n.toString()))}))}}};function Re(e){var t=e.component,n=(e.roles,Object(ae.a)(e,["component","roles"]));return a.a.createElement(i.b,Object.assign({},n,{render:function(e){return a.a.createElement(t,e)}}))}var Ue=n(28),_e=n(26);function Le(){var e,t=Object(r.useState)(1),n=Object(Ue.a)(t,2),c=n[0],o=n[1],i=Object(u.c)((function(e){return e.clients})),s=Object(u.c)((function(e){return e.products})),l=Object(u.c)((function(e){return e.authentication.user})),m=Object(u.b)();function d(e){o(e)}return Object(r.useEffect)((function(){m(Te.getAll()),m(Ce.getAll())}),[m]),a.a.createElement("div",null,a.a.createElement("div",{className:"col-lg-8 offset-lg-2"},a.a.createElement("h1",null,"Hi ",l.firstName,"!"),a.a.createElement("button",{onClick:function(){return d(1)},className:"text-primary"},"CLIENTS"),a.a.createElement("button",{onClick:function(){return d(2)},className:"text-primary"},"PRODUCTS")),1===c?function(e){return a.a.createElement("div",{className:"col-lg-10 offset-lg-1"},a.a.createElement("h3",null,"All clients:"),e.error&&a.a.createElement("span",{className:"text-danger"},"ERROR: ",e.error),e.loading?a.a.createElement("em",null,"Loading clients..."):e.creating?a.a.createElement("em",null," - Creating..."):a.a.createElement("button",{onClick:function(){return function(){var e=prompt("New Client name:","Harry Potter");m(Te.create(e))}()},className:"text-primary"},"NEW CLIENT"),e.items&&a.a.createElement("ul",null,e.items.map((function(e,t){return a.a.createElement("li",{key:e.id},e.name,e.deleting?a.a.createElement("em",null," - Deleting..."):e.updating?a.a.createElement("em",null," - Updating..."):e.deleteError?a.a.createElement("span",{className:"text-danger"}," - ERROR: ",e.deleteError):a.a.createElement("span",null," -",a.a.createElement("button",{onClick:function(){return t=e.id,void m(Te.delete(t));var t},className:"text-primary"},"Delete"),a.a.createElement("button",{onClick:function(){return function(e){var t=prompt("New Client name:","Harry Potter");m(Te.update(e,t))}(e)},className:"text-primary"},"Update")))}))),a.a.createElement("p",null,a.a.createElement(_e.a,{to:"/login"},"Logout")),a.a.createElement("span",null,"Fetched from jsonPlaceHolder in json format"))}(i):(e=s,a.a.createElement("div",{className:"col-lg-10 offset-lg-1"},a.a.createElement("h3",null,"All products:"),e.error&&a.a.createElement("span",{className:"text-danger"},"ERROR: ",i.error),e.loading?a.a.createElement("em",null,"Loading products..."):a.a.createElement("button",{onClick:function(){return function(){var e=prompt("New Product name:","Conga 8788");m(Ce.create(e))}()},className:"text-primary"},"NEW PRODUCT"),e.items&&a.a.createElement("ul",null,e.items.map((function(e,t){return a.a.createElement("li",{key:e.id},e.title,e.deleting?a.a.createElement("em",null," - Deleting..."):e.updating?a.a.createElement("em",null," - Updating..."):e.deleteError?a.a.createElement("span",{className:"text-danger"}," - ERROR: ",e.deleteError):a.a.createElement("span",null," -",a.a.createElement("button",{onClick:function(){return t=e.id,void m(Ce.delete(t));var t},className:"text-primary"},"Delete"),a.a.createElement("button",{onClick:function(){return function(e){var t=prompt("New product name:","Aspirador Conga");m(Ce.update(e,t))}(e)},className:"text-primary"},"Update")))}))),a.a.createElement("p",null,a.a.createElement(_e.a,{to:"/login"},"Logout")),a.a.createElement("span",null,"Fetched from GraphQLZero in GraphQl format"))))}var Ae=n(33);function Ie(){var e=Object(r.useState)({username:"",password:""}),t=Object(Ue.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),s=Object(Ue.a)(o,2),l=s[0],m=s[1],d=n.username,f=n.password,E=Object(u.c)((function(e){return e.authentication.loggingIn})),p=Object(u.b)(),g=Object(i.g)();function b(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(ce.a)(Object(ce.a)({},e),{},Object(Ae.a)({},n,r))}))}return Object(r.useEffect)((function(){p(Ne.logout())}),[p]),a.a.createElement("div",{className:"col-lg-8 offset-lg-2"},a.a.createElement("h2",null,"Login"),a.a.createElement("form",{name:"form",onSubmit:function(e){if(e.preventDefault(),m(!0),d&&f){var t=(g.state||{from:{pathname:"/"}}).from;p(Ne.login(d,f,t))}}},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Username"),a.a.createElement("input",{type:"text",name:"username",value:d,onChange:b,className:"form-control"+(l&&!d?" is-invalid":"")}),l&&!d&&a.a.createElement("div",{className:"invalid-feedback"},"Username is required")),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Password"),a.a.createElement("input",{type:"password",name:"password",value:f,onChange:b,className:"form-control"+(l&&!f?" is-invalid":"")}),l&&!f&&a.a.createElement("div",{className:"invalid-feedback"},"Password is required")),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{className:"btn btn-primary"},E&&a.a.createElement("span",{className:"spinner-border spinner-border-sm mr-1"}),"Login"),a.a.createElement(_e.a,{to:"/register",className:"btn btn-link"},"Register"))))}function we(){var e=Object(r.useState)({firstName:"",lastName:"",username:"",password:""}),t=Object(Ue.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!1),i=Object(Ue.a)(o,2),s=i[0],l=i[1],m=Object(u.c)((function(e){return e.registration.registering})),d=Object(u.b)();function f(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(ce.a)(Object(ce.a)({},e),{},Object(Ae.a)({},n,r))}))}return Object(r.useEffect)((function(){d(Ne.logout())}),[d]),a.a.createElement("div",{className:"col-lg-8 offset-lg-2"},a.a.createElement("h2",null,"Register"),a.a.createElement("form",{name:"form",onSubmit:function(e){e.preventDefault(),l(!0),n.firstName&&n.lastName&&n.username&&n.password&&d(Ne.register(n))}},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"First Name"),a.a.createElement("input",{type:"text",name:"firstName",value:n.firstName,onChange:f,className:"form-control"+(s&&!n.firstName?" is-invalid":"")}),s&&!n.firstName&&a.a.createElement("div",{className:"invalid-feedback"},"First Name is required")),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Last Name"),a.a.createElement("input",{type:"text",name:"lastName",value:n.lastName,onChange:f,className:"form-control"+(s&&!n.lastName?" is-invalid":"")}),s&&!n.lastName&&a.a.createElement("div",{className:"invalid-feedback"},"Last Name is required")),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Username"),a.a.createElement("input",{type:"text",name:"username",value:n.username,onChange:f,className:"form-control"+(s&&!n.username?" is-invalid":"")}),s&&!n.username&&a.a.createElement("div",{className:"invalid-feedback"},"Username is required")),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Password"),a.a.createElement("input",{type:"password",name:"password",value:n.password,onChange:f,className:"form-control"+(s&&!n.password?" is-invalid":"")}),s&&!n.password&&a.a.createElement("div",{className:"invalid-feedback"},"Password is required")),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{className:"btn btn-primary"},m&&a.a.createElement("span",{className:"spinner-border spinner-border-sm mr-1"}),"Register"),a.a.createElement(_e.a,{to:"/login",className:"btn btn-link"},"Cancel"))))}var Pe=function(){var e=Object(u.c)((function(e){return e.alert})),t=Object(u.b)();return Object(r.useEffect)((function(){d.listen((function(e,n){t(le.clear())}))}),[t]),a.a.createElement("div",{className:"jumbotron"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"col-md-8 offset-md-2"},e.message&&a.a.createElement("div",{className:"alert ".concat(e.type)},e.message),a.a.createElement(i.c,{history:d},a.a.createElement(i.d,null,a.a.createElement(Re,{exact:!0,path:"/",component:Le}),a.a.createElement(i.b,{path:"/login",component:Ie}),a.a.createElement(i.b,{path:"/register",component:we}),a.a.createElement(i.a,{from:"*",to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.fetch;window.fetch=function(t,n){var r=n.method,a=(n.headers,n.body&&JSON.parse(n.body));return new Promise((function(c,o){function i(e){c({ok:!0,text:function(){return Promise.resolve(JSON.stringify(e))}})}function u(e){c({status:400,text:function(){return Promise.resolve(JSON.stringify({message:e}))}})}setTimeout((function(){switch(!0){case t.endsWith("/users/authenticate")&&"POST"===r:return function(){var e=a.username,t=a.password,n=l.find((function(n){return n.username===e&&n.password===t}));return n?i({id:n.id,username:n.username,firstName:n.firstName,lastName:n.lastName,token:"fake-jwt-token"}):u("Username or password is incorrect")}();case t.endsWith("/users/register")&&"POST"===r:return function(){var e=a;if(l.find((function(t){return t.username===e.username})))return u("Username  ".concat(e.username," is already taken"));return e.id=l.length?Math.max.apply(Math,Object(s.a)(l.map((function(e){return e.id}))))+1:1,l.push(e),localStorage.setItem("users",JSON.stringify(l)),i()}();default:return e(t,n).then((function(e){return c(e)})).catch((function(e){return o(e)}))}}),500)}))}}(),o.a.render(a.a.createElement(u.a,{store:ue},a.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[79,1,2]]]);
//# sourceMappingURL=main.67a0f3d9.chunk.js.map